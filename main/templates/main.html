{% extends 'base.html' %}

{% load static %}

{% block content %}
{% include 'navbar.html' %}

<div class="flex justify-center px-5">
  <div class="inline-block rounded-lg border border-gray-200 my-5 mx-auto text-center max-w-lg py-3 px-5 bg-white">
    <p>{{ name }} &mdash; {{ npm }} &mdash; {{ class }}<p>
    <h5><strong>Last Login</strong>: {{ last_login }}</h5>
  </div>
</div>

<main class="px-5 sm:px-12 lg:px-24 w-full mb-32">
  <div class="w-full border-b border-gray-300 py-3 mb-5">
    <h1 class="text-3xl font-bold">Products</h1>
    <a class="text-blue-600 hover:underline" href="{% url 'main:create_product' %}">Add New Product</a>
  </div>

  {% if not products %}
  <div class="text-center bg-white rounded-lg border border-gray-200 shadow-sm py-6 px-10 break-inside-avoid">
    <img src="{% static 'image/empty-list.png' %}" width="300" class="block mx-auto">
    <p class="text-slate-600">Belum ada produk yang terdaftar</p>
  </div>
  {% else %}
  <div class="columns-1 md:columns-2 lg:columns-3 xl:columns-4 space-y-3 gap-x-3">
    {% for product in products %}
    <div class="flex flex-col bg-white rounded-lg border border-gray-200 shadow-sm py-6 px-8 text-wrap break-inside-avoid">
      <div class="flex flex-col max-w-md min-w-md">
        <a href="{% url 'main:show_product' product.id %}">
          <h1 class="text-xl font-bold hover:underline">{{ product.name }}</h1>
        </a>
        <h2 class="text-md mt-1">${{ product.price }}</h2>
        <p class="text-gray-700 my-4 w-full">{{ product.description }}</p>
      </div>
      <div class="flex flex-row justify-end items-center gap-3">
        <a class="text-blue-600 hover:underline" href="{% url 'main:update_product' product.id %}">Edit</a>
        <a class="text-blue-600 hover:underline" href="{% url 'main:delete_product' product.id %}">Delete</a>
      </div>
    </div>
    {% endfor %}
  </div>
  {% endif %}
</main>
{% endblock content %}
